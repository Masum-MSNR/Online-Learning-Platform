{% extends 'base.html' %}
{% load static %}
{% load my_filters %}


{% block styles %}
<link rel="stylesheet" type="text/css" href="{% static 'dashboard_style.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
{% endblock %}

{% block title %}Dashboard{% endblock %}
{% block Login %}inactive{% endblock %}
{% block Signup %}inactive{% endblock %}
{% block Dashboard %}active{% endblock %}
{% block content %}

<section>
    <h1>Welcome, {{user.username}}</h1>
    <img class="profile_pic" height="55px" width="55px"
        src="https://www.unitedway.ca/wp-content/uploads/2017/06/TempProfile.jpg">
    {% if user.account_type == "Student" %}

    <div class="block">
        <p>Courses you taken:</p>
    </div>
    <div class="block">
        <p>Progress on each course:</p>
        <h3>Title</h3>
        <div class="fixed_progress">
            <div class="progress"></div>
        </div>
    </div>
    {% else %}

    <div class="block">
        <h2>Courses you have published: </h2>
        <a class="button" href="/add_course">Add New</a>
        <div class="grid_container">
            {% for course in courses %}
            <div class="card">
                <div style="position: relative;">
                    {% if course.fee == 0 %}
                    <p class="price">Free</p>
                    {% else %}
                    <p class="price">${{course.fee}}</p>
                    {% endif %}
                    <a href="/edit_course/{{ course.id }}">
                        <img src="/media/images/{{course.imageUrl}}" width="100%" height="160px" />
                    </a>
                </div>
                <div class="card-content">
                    <h3 class="content_title">
                        <p>{{ course.title }}</p>
                    </h3>
                    <div class="rating">
                        <span>{{ course.rating }} </span>
                        {% for x in 5|times %}
                        <span class="fa fa-star"></span>
                        {% endfor %}
                        <span>( {{ course.numberOfRating }} )</span>
                    </div>
                    <div class="date">
                        <h4>
                            <p>{{ course.uploadDate }}</p>
                        </h4>
                    </div>
                </div>
            </div>
            
            {% endfor %}
        </div>

        <!-- <h2>Statistics:</h2> -->


    </div>
    {% endif%}
</section>

{% endblock %}